<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="{{ page.excerpt | default: page.title | strip_html | strip_newlines }}" />
  <link rel="canonical" href="{{ site.url }}{{ site.baseurl }}{{ page.url }}" />

  <!-- Fonts & Icons -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'deep-teal': '#006D77',
            'bright-cyan': '#00B4D8',
            'warm-coral': '#FF6B6B',
            'graphite-gray': '#2E2E2E',
            'soft-silver': '#E0E0E0'
          },
          fontFamily: { sans: ['Inter', 'system-ui', 'sans-serif'] }
        }
      }
    }
  </script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="{{ site.baseurl }}/assets/css/site.css" />

  {% include search-console.html %}
  {% include analytics.html %}

  <title>{{ page.title }} — {{ site.title }}</title>
</head>
<body class="font-sans text-graphite-gray bg-white">
  <!-- NAVBAR -->
  <header id="navbar" class="fixed top-0 z-50 w-full bg-white/90 backdrop-blur border-b border-soft-silver">
    <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
      <a href="{{ site.baseurl }}/" class="flex items-center gap-3 group">
        <img src="{{ site.baseurl }}/assets/img/avatar.png" alt="Avatar" class="h-9 w-9 rounded-full ring-2 ring-soft-silver group-hover:ring-bright-cyan transition" />
        <span class="text-lg font-semibold">{{ site.title }}</span>
      </a>
      <nav class="hidden md:flex items-center gap-6">
        <a href="{{ site.baseurl }}/blog.html" class="hover:text-deep-teal">Blog</a>
        <a href="{{ site.baseurl }}/#about" class="hover:text-deep-teal">About</a>
        <a href="{{ site.baseurl }}/#publications" class="hover:text-deep-teal">Publications</a>
        <a href="{{ site.baseurl }}/contact.md" class="hover:text-deep-teal">Contact</a>
      </nav>
      <a href="{{ site.baseurl }}/blog.html" class="md:hidden text-deep-teal underline">Back to blog</a>
    </div>
  </header>

  <!-- POST HEADER -->
  <section class="pt-24 sm:pt-28 bg-gray-50 border-b border-soft-silver">
    <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:px-8 py-10">
      <a href="{{ site.baseurl }}/blog.html" class="text-sm text-deep-teal hover:underline"><i class="fa-solid fa-arrow-left mr-1"></i> Back to blog</a>
      <h1 class="mt-3 text-3xl md:text-4xl font-extrabold text-graphite-gray">{{ page.title }}</h1>
      <p class="mt-2 text-gray-600">
        {{ page.date | date: "%B %d, %Y" }}
        {%- if page.author %} · by {{ page.author }}{% endif -%}
      </p>
    </div>
  </section>

  <!-- POST CONTENT -->
  <main class="pb-16">
    <article class="prose prose-lg max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-10">
      {{ content }}
    </article>

    <!-- Prev / Next -->
    <nav class="max-w-3xl mx-auto px-4 sm:px-6 lg:px-8">
      <hr class="border-soft-silver my-6" />
      <div class="flex flex-col sm:flex-row justify-between gap-4 text-sm">
        <div>
          {% if page.previous %}
            <a class="text-deep-teal hover:underline" href="{{ page.previous.url | relative_url }}">
              <i class="fa-solid fa-arrow-left mr-1"></i> {{ page.previous.title }}
            </a>
          {% endif %}
        </div>
        <div class="text-right">
          {% if page.next %}
            <a class="text-deep-teal hover:underline" href="{{ page.next.url | relative_url }}">
              {{ page.next.title }} <i class="fa-solid fa-arrow-right ml-1"></i>
            </a>
          {% endif %}
        </div>
      </div>
    </nav>
  </main>

  <!-- FOOTER -->
  <footer class="border-t border-soft-silver">
    <div class="mx-auto max-w-6xl px-4 sm:px-6 lg:px-8 py-8 text-sm flex flex-col sm:flex-row items-center justify-between gap-3">
      <p>&copy; {{ "now" | date: "%Y" }} {{ site.title }}. All rights reserved.</p>
      <div class="flex items-center gap-4">
        <a href="mailto:someone@example.com" class="hover:text-deep-teal"><i class="fa-regular fa-envelope"></i></a>
        <a href="#" class="hover:text-deep-teal"><i class="fa-brands fa-linkedin"></i></a>
        <a href="#" class="hover:text-deep-teal"><i class="fa-brands fa-github"></i></a>
      </div>
    </div>
  </footer>

  <script>
    const menuBtn = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');
    const navbar = document.getElementById('navbar');
    const icon = menuBtn ? menuBtn.querySelector('i') : null;

    if (menuBtn && icon) {
      menuBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        mobileMenu.classList.toggle('hidden');
        icon.classList.toggle('fa-bars');
        icon.classList.toggle('fa-times');
      });
      document.addEventListener('click', (e) => {
        if (!mobileMenu.classList.contains('hidden') && !mobileMenu.contains(e.target) && !menuBtn.contains(e.target)) {
          mobileMenu.classList.add('hidden');
          icon.classList.add('fa-bars');
          icon.classList.remove('fa-times');
        }
      });
    }
    window.addEventListener('scroll', () => {
      if (window.scrollY > 50) navbar.classList.add('shadow-lg');
      else navbar.classList.remove('shadow-lg');
    });
  </script>
</body>
</html>
