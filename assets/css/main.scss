---
---

// 1. Import the theme and skin (MUST match the skin set in _config.yml)
@import "minimal-mistakes/skins/default";
@import "minimal-mistakes";


// 2. Custom Tweak: Global Typography (Your existing rules)
h1, h2, h3 {
  font-family: "Segoe UI", Roboto, sans-serif;
  font-weight: 700;
  // ENSURE HEADINGS ARE BRIGHT
  color: #FAFAFA !important; 
}

.page__content {
  font-size: 1.05rem;
  line-height: 1.7;
}

// -----------------------------------------------------------
// 3. Glassmorphism & Custom Dark Theme Implementation (Improved)
// -----------------------------------------------------------

// A. Variables
$glass-bg-color: rgba(255, 255, 255, 0.08); 
$glass-border-color: rgba(255, 255, 255, 0.2); // Slightly stronger border for definition
$primary-text-color: #E0E0E0; // Standard text
$primary-link-color: #0b7285; // Your teal/cyan color
$text-on-glass: #FFFFFF; // White text for highest contrast on glass elements

// B. Global Dark Background
body {
    background-color: #121212 !important;
}

// C. Apply Glass effect to main content containers
.masthead,
.page__header,
.page__footer,
.page__wrapper,
.archive,
.feature__wrapper {
    background-color: transparent !important;
}

// D. Glassmorphism Styling for Containers (Nav Bar, Content Wrapper, Cards)
.page__wrapper,
.masthead,
.feature__item {
    background: $glass-bg-color;
    box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2); // Stronger shadow for more depth
    backdrop-filter: blur(8px); // Increased blur for better separation
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid $glass-border-color;
    border-radius: 12px; // Slightly more rounded
    margin: 1rem;
}

// E. Text and Link Colors (Accessibility/Contrast Fixes)
// Apply bright color to all text inside glass areas
.page__wrapper, .masthead {
    color: $primary-text-color !important;
}

// Target standard Markdown links for a clear look
a {
    color: $primary-link-color;
    &:hover {
        color: lighten($primary-link-color, 15%);
        text-decoration: underline; // Ensure clear hover state
    }
}

// F. Feature Card (Homepage Projects) Improvements
.feature__item {
    // Override the default image float to put the image clearly on the card
    .feature__img {
        border-radius: 8px; 
        margin-bottom: 1em;
    }
    // Remove default image and button classes to simplify styling
    .feature__item .btn--inverse {
        background-color: transparent;
        color: $primary-link-color !important;
        border-color: $primary-link-color;
    }
}


// G. Button Styling (Polished Look)
.btn--primary {
    background-color: $primary-link-color !important;
    color: #ffffff !important;
    border: 1px solid lighten($primary-link-color, 10%); // Subtle shine border
    border-radius: 5px;
    transition: background-color 0.2s ease;
    &:hover {
        background-color: darken($primary-link-color, 10%) !important;
        box-shadow: 0 0 10px rgba($primary-link-color, 0.7); // Glow effect on hover
    }
}



// -----------------------------------------------------------
// 4. Sticky Navigation and Z-Index Fix (New Code)
// -----------------------------------------------------------

// Ensure the masthead sticks to the top and stays above other content.
.masthead {
    position: sticky;
    top: 1rem; /* Aligns the sticky nav below the top margin set in section 3.D */
    z-index: 100; /* Ensures it layers above everything else on scroll */
    width: auto;
    left: 1rem;
    right: 1rem;
    
    // Adjust the internal structure for better glass rendering
    .masthead__inner-wrap {
        border-radius: 12px;
        overflow: hidden; /* Prevents internal elements from spilling over rounded corners */
    }
}

// Fix margin collision with body content right below the nav
.layout--splash {
    .page__header + .archive {
        margin-top: 0;
    }
}
